!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SceneJS",[],t):"object"==typeof exports?exports.SceneJS=t():e.SceneJS=t()}(self,(function(){return(()=>{"use strict";var e={424:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap);"]),o.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap);"]),o.push([e.id,"@import url(https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css);"]),o.push([e.id,"/*\r\n * Copyright 2022 Dan Lyu.\r\n */\r\n\r\n:root {\r\n    --scene-base: #ffffff;\r\n    --scene-base-s1: #F5F5F5;\r\n    --scene-base-inv: #000000;\r\n    --scene-base-inv-s1: #1c1c1c;\r\n    --scene-base-inv-s2: #696969;\r\n    --prop-list-width: 172px;\r\n    --toolbar-button-width: 40px;\r\n    --scene-dialog-header-button-not-selected-hover: #6565a1;\r\n    --scene-dialog-header-button-not-selected-text-hover: #6565a1;\r\n    --scene-snackbar-error: #EB7777;\r\n    --scene-snackbar-success: #49655E;\r\n    --scene-timeline-button-selected: #8688BC;\r\n    --scene-timeline-button-selected-hover: #6565a1;\r\n    --scene-timeline-button-not-selected: #EB7777;\r\n    --scene-timeline-button-not-selected-hover: #d96262;\r\n    --scene-timeline-button-text: #ffffff;\r\n    --scene-snackbar-text: #ffffff;\r\n    --scene-dialog-key: #6565a1;\r\n    --scene-dialog-value: #EB7777;\r\n    --scene-dialog-content: #000000;\r\n    --scene-button-text: #ffffff;\r\n    --scene-button-color: #8688BC;\r\n    --scene-button-hover: #6565a1;\r\n    --scene-trans-base: rgba(255, 255, 255, 0.92);\r\n    --scene-tooltip-background: #313131;\r\n    --scene-tooltip-text: #ffffff;\r\n    --scene-toggle-selected: #49655E;\r\n    --scene-toggle-selected-hover: #2c413c;\r\n    --scene-toggle-not-selected: #8c232f;\r\n    --scene-toggle-not-selected-hover: #b74352;\r\n}\r\n\r\n.pointer {\r\n    cursor: pointer;\r\n}\r\n\r\n.root-container {\r\n    line-height: 1;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: var(--scene-base-s1);\r\n    font-family: Comfortaa, serif;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.overlay {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 40%);\r\n    position: fixed;\r\n    z-index: 1250;\r\n    top: 0;\r\n    left: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.overlay > img {\r\n    height: auto;\r\n    width: auto;\r\n    max-width: 92%;\r\n    max-height: 92%;\r\n}\r\n\r\n/* TODO: clean this up */\r\n\r\n.prop__dialog {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 40%);\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.prop__dialog--embedded {\r\n    z-index: 150;\r\n    display: flex;\r\n    flex-direction: column;\r\n    box-sizing: border-box;\r\n    background-color: var(--scene-trans-base);\r\n    position: absolute;\r\n    box-shadow: 0 10px 16px 0 rgba(0, 0, 0, 0.05), 0 6px 20px 0 rgb(0, 0, 0, 0.049);\r\n}\r\n\r\n/* Cannot use media since we don't define the root element's width */\r\n.prop__dialog--embedded--normal {\r\n    padding: 15px 15px 15px 21px;\r\n    width: 400px;\r\n    height: 85%;\r\n    right: 20px;\r\n    top: 20px;\r\n}\r\n\r\n.prop__dialog--embedded--mobile {\r\n    padding: 12px 6px;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.prop__dialog--popup span,\r\n.prop__dialog--embedded span {\r\n    font-family: Inter, serif;\r\n}\r\n\r\n.prop__dialog--popup .header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.prop__dialog--popup .header i {\r\n    font-size: 2.9rem;\r\n    align-self: end;\r\n    padding: 10px;\r\n    margin-left: auto;\r\n}\r\n\r\n.prop__dialog--embedded .header {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 9px;\r\n}\r\n\r\n.prop__dialog--embedded .header i {\r\n    font-size: 2.5rem;\r\n    align-self: end;\r\n    margin-left: auto;\r\n}\r\n\r\n.prop__dialog__close {\r\n    color: var(--scene-base-inv-s1)\r\n}\r\n\r\n.header__tab {\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    padding: 6px 10px;\r\n    color: var(--scene-base-inv-s1);\r\n    border: 2px solid var(--scene-base-inv-s1);\r\n    border-radius: 8px;\r\n    transition-duration: .2s;\r\n    transition-property: background-color, color;\r\n    cursor: pointer;\r\n    margin-right: 12px;\r\n    position: relative;\r\n}\r\n\r\n.header__tab span {\r\n    position: absolute;\r\n    top: 46px;\r\n    left: -1px;\r\n}\r\n\r\n.header__tab:hover span {\r\n    opacity: 1 !important;\r\n}\r\n\r\n.content-text--normal {\r\n    color: var(--scene-dialog-content);\r\n    line-height: 1.4;\r\n}\r\n\r\n.content .image__container {\r\n    align-items: center;\r\n    text-align: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    padding: 8px 0 16px 0;\r\n}\r\n\r\n.content .image__container span {\r\n    padding: 0 0 8px 0;\r\n    font-weight: 500;\r\n}\r\n\r\n.content .image__container img {\r\n    width: 95%;\r\n    cursor: pointer;\r\n}\r\n\r\n.content__key-value {\r\n    padding: 3px 0;\r\n}\r\n\r\n.content__key {\r\n    color: var(--scene-dialog-key) !important;\r\n    font-weight: 700;\r\n}\r\n\r\n.content__value {\r\n    color: var(--scene-dialog-value) !important;\r\n    font-weight: 600;\r\n    line-height: 1.4;\r\n}\r\n\r\n.header__button--selected {\r\n    background-color: var(--scene-base-inv-s1);\r\n    color: var(--scene-base) !important;\r\n}\r\n\r\n.header__button--not-selected {\r\n\r\n}\r\n\r\n.header__button--not-selected:hover {\r\n    border-color: var(--scene-dialog-header-button-not-selected-hover);\r\n    color: var(--scene-dialog-header-button-not-selected-text-hover);\r\n}\r\n\r\n.prop__dialog--popup .content,\r\n.prop__dialog--embedded .content {\r\n    display: flex;\r\n    overflow: auto;\r\n    min-height: 0;\r\n    flex-direction: column;\r\n}\r\n\r\n.prop__dialog--popup .content span,\r\n.prop__dialog--embedded .content span {\r\n    font-size: 1.1rem;\r\n}\r\n\r\n.prop__dialog--popup .prop__dialog__footer,\r\n.prop__dialog--embedded .prop__dialog__footer {\r\n    display: flex;\r\n    margin-top: auto;\r\n    padding-top: 13px;\r\n    align-self: end;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.prop__dialog--popup .prop__dialog__footer span,\r\n.prop__dialog--embedded .prop__dialog__footer span {\r\n    font-size: 1rem;\r\n    font-weight: 700;\r\n    margin-left: 13px;\r\n}\r\n\r\n.prop__dialog--popup .prop__dialog__footer i,\r\n.prop__dialog--embedded .prop__dialog__footer i {\r\n    font-size: 1.2rem;\r\n}\r\n\r\n.prop__dialog__footer {\r\n    bottom: 0;\r\n}\r\n\r\n.toolbar {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: var(--toolbar-button-width);\r\n    bottom: 0;\r\n    transition-duration: 0.3s;\r\n    transition-timing-function: ease-in;\r\n    position: absolute;\r\n    margin: 0 0 4px 10px;\r\n    left: 0;\r\n    z-index: 110;\r\n}\r\n\r\n\r\n.toolbar__button-container {\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 4px 0;\r\n}\r\n\r\n\r\n.tooltip span {\r\n    max-height: 40px;\r\n    justify-content: center;\r\n    transition-duration: .1s;\r\n    opacity: 0;\r\n    background-color: var(--scene-tooltip-background);\r\n    color: var(--scene-tooltip-text);\r\n    border-radius: 8px;\r\n    padding: 10px;\r\n    white-space: nowrap;\r\n    pointer-events: none;\r\n    font-size: 15px;\r\n    font-family: Roboto, serif;\r\n    font-weight: normal;\r\n}\r\n\r\n.tooltip:hover span {\r\n    opacity: 1 !important;\r\n}\r\n\r\n.toolbar__button-container span {\r\n    margin-left: 10px;\r\n}\r\n\r\n.scene__button {\r\n    text-align: center;\r\n    align-self: center;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n    transition-duration: 0.3s;\r\n    border-radius: 4px;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.toolbar__button:hover {\r\n    background-color: var(--scene-button-hover);\r\n}\r\n\r\n.toolbar__button {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    min-width: 40px;\r\n    min-height: 40px;\r\n    background-color: var(--scene-button-color);\r\n}\r\n\r\n.toolbar__button i {\r\n    font-size: 1.1rem;\r\n    color: var(--scene-button-text);\r\n}\r\n\r\n.timeline-container {\r\n    display: flex;\r\n    width: calc(100% - var(--toolbar-button-width) - 3px);\r\n    margin-top: auto;\r\n    padding: 0 20px;\r\n    position: absolute;\r\n    bottom: 0;\r\n    margin-bottom: 8px;\r\n    left: calc(var(--toolbar-button-width) + 3px);\r\n    box-sizing: border-box;\r\n    z-index: 100;\r\n    overflow: auto;\r\n}\r\n\r\n.timeline-container-full-width {\r\n    width: calc(100% - 3px);\r\n    LEFT: 3px\r\n}\r\n\r\n.timeline {\r\n    display: flex;\r\n    width: 100%;\r\n}\r\n\r\n.timeline__frame-container {\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.timeline__frame-container .progress-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    width: 100%;\r\n}\r\n\r\n.timeline__frame-container .progress {\r\n    border-bottom: 4px solid;\r\n}\r\n\r\n.timeline__frame-container .progress-finished {\r\n    border-bottom-color: var(--scene-timeline-button-selected);\r\n    width: 0;\r\n}\r\n\r\n.timeline__frame-container .progress-not {\r\n    border-bottom-color: var(--scene-timeline-button-not-selected);\r\n    width: 100%;\r\n}\r\n\r\n.timeline__frame {\r\n    align-self: start;\r\n    background-color: var(--scene-timeline-button-not-selected);\r\n    color: var(--scene-timeline-button-text);\r\n    padding: 7px 15px 4px 15px;\r\n    border-radius: 4px;\r\n    font-weight: 600;\r\n    transition-duration: 0.3s;\r\n}\r\n\r\n.timeline__frame--selected {\r\n    background-color: var(--scene-timeline-button-selected);\r\n}\r\n\r\n.timeline__frame--selected:hover {\r\n    background-color: var(--scene-timeline-button-selected-hover);\r\n}\r\n\r\n.timeline__frame--not-selected:hover {\r\n    background-color: var(--scene-timeline-button-not-selected-hover);\r\n}\r\n\r\n.prop__list-container {\r\n    display: flex;\r\n    z-index: 100;\r\n    position: absolute;\r\n    left: 0;\r\n    transition-duration: 0.5s;\r\n    transition-timing-function: ease-in;\r\n}\r\n\r\n.prop__list-container--closed {\r\n    left: calc(var(--prop-list-width) * -1) !important\r\n}\r\n\r\n.hide__icon-container {\r\n    background-color: var(--scene-trans-base);\r\n    align-self: start;\r\n    padding: 10px 6px;\r\n    border-top-right-radius: 8px;\r\n    border-bottom-right-radius: 8px;\r\n}\r\n\r\n.hide__icon-container i {\r\n    font-size: 1.45rem;\r\n    color: var(--scene-base-inv-s1);\r\n\r\n}\r\n\r\n.hide__icon-rotate-container {\r\n    transition: transform .5s;\r\n    transition-timing-function: ease-in;\r\n}\r\n\r\n.icon-animated-left {\r\n    transform: rotate(0deg);\r\n}\r\n\r\n.icon-animated-right {\r\n    transform: rotate(-180deg);\r\n}\r\n\r\n.prop__column {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.prop__list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: var(--prop-list-width);\r\n    max-height: 200px;\r\n    overflow: auto;\r\n    background-color: var(--scene-trans-base);\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.prop__list__action__container {\r\n    display: flex;\r\n}\r\n\r\n.prop__list__action__button {\r\n    display: flex;\r\n    width: 50%;\r\n    padding: 11px 0 11px 0;\r\n    background-color: var(--scene-trans-base);\r\n    color: var(--scene-base-inv);\r\n    box-sizing: border-box;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    transition-duration: .1s;\r\n}\r\n\r\n.prop__list__action__button:hover {\r\n    background-color: var(--scene-base-inv-s1);\r\n}\r\n\r\n.prop__list__action__button:hover span {\r\n    color: var(--scene-base)\r\n}\r\n\r\n.prop__list__action__button span {\r\n    font-weight: 600;\r\n}\r\n\r\n.prop__list__action__button__icon {\r\n    font-size: 1.1rem;\r\n    margin-left: 5px;\r\n}\r\n\r\n.prop__list__item {\r\n    display: flex;\r\n    padding: 14px 12px 14px 18px;\r\n}\r\n\r\n.prop__list__item--not-selected {\r\n    color: var(--scene-base-inv);\r\n}\r\n\r\n.prop__list__item--not-selected span {\r\n    color: var(--scene-base-inv);\r\n}\r\n\r\n.prop__list__item--not-selected:hover {\r\n    background-color: var(--scene-base-s1);\r\n}\r\n\r\n.prop__list__item--selected {\r\n    background-color: var(--scene-base-inv-s1);\r\n}\r\n\r\n.prop__list__item--selected span {\r\n    color: var(--scene-base)\r\n}\r\n\r\n.prop__list__item span {\r\n    width: 110px;\r\n    margin: 0 0.3rem 0 1.2rem;\r\n    font-size: 0.95rem;\r\n    font-weight: 700;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n}\r\n\r\n.view__prop {\r\n    /*position: absolute;*/\r\n    pointer-events: bounding-box;\r\n    cursor: pointer;\r\n    transition-property: transform;\r\n}\r\n\r\n.view__prop text {\r\n    font: normal 12px Comfortaa;\r\n}\r\n\r\n.view__prop--selected {\r\n    outline: 1px solid var(--scene-base-inv-s2);\r\n    outline-offset: 7px;\r\n    filter: drop-shadow(1px 1px 1px rgba(0, 0, 0, .09));\r\n    /*stroke: var(--scene-base-inv-s2);*/\r\n    /*stroke-width: 1px;*/\r\n    /*stroke-dasharray: 2,2;*/\r\n}\r\n\r\n.view__prop:hover {\r\n    filter: drop-shadow(1px 1px 1px rgba(0, 0, 0, .13));\r\n}\r\n\r\n.view-svg {\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    position: absolute;\r\n}\r\n\r\n.view__prop g {\r\n    transition-property: opacity;\r\n    transition-timing-function: ease-in-out;\r\n}\r\n\r\n.snackbar {\r\n    margin-top: 15px;\r\n    padding: 8px;\r\n    display: inline-flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    color: var(--scene-snackbar-text);\r\n    z-index: 190;\r\n    border-radius: 4px;\r\n    transition-duration: .3s;\r\n    font-weight: 600;\r\n    opacity: 1;\r\n}\r\n\r\n.snackbar--error {\r\n    background-color: var(--scene-snackbar-error);\r\n}\r\n\r\n.snackbar--success {\r\n    background-color: var(--scene-snackbar-success);\r\n}\r\n\r\n.snackbar--normal {\r\n    width: 300px;\r\n    font-size: 16px;\r\n}\r\n\r\n.snackbar--mobile {\r\n    width: 85%;\r\n    font-size: 14px;\r\n}\r\n\r\n.snackbar--closed {\r\n    top: -60px;\r\n    opacity: 0;\r\n}\r\n\r\n.view__prop__connection {\r\n    stroke: var(--scene-base-inv-s2);\r\n    stroke-width: 1px;\r\n}\r\n\r\n.step-card {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 12px 0 14px 0;\r\n}\r\n\r\n.bottom-gray-border {\r\n    border-bottom: 2px solid var(--scene-base-inv-s2);\r\n}\r\n\r\n.step-card > div {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 10px;\r\n    font-weight: 600;\r\n}\r\n\r\n.step-card__step {\r\n    font-weight: 500;\r\n    border-radius: 50%;\r\n    background-color: var(--scene-base-inv-s1);\r\n    color: var(--scene-base);\r\n    height: 34px;\r\n    width: 34px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-right: 10px;\r\n}\r\n\r\n/* https://stackoverflow.com/questions/11131875/what-is-the-cleanest-way-to-disable-css-transition-effects-temporarily */\r\n.no-transition {\r\n    -webkit-transition: none !important;\r\n    -moz-transition: none !important;\r\n    -o-transition: none !important;\r\n    transition: none !important;\r\n}\r\n\r\n.modal {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 80%;\r\n    height: 79%;\r\n    align-self: center;\r\n    background-color: var(--scene-base-s1);\r\n}\r\n\r\n.modal__header {\r\n    display: flex;\r\n    padding: 19px 30px;\r\n    align-items: center;\r\n}\r\n\r\n.modal__header__title {\r\n    font-weight: 700;\r\n    font-size: 30px;\r\n    color: var(--scene-base-inv-s1);\r\n}\r\n\r\n.modal__header__close {\r\n    margin-left: auto;\r\n    font-size: 45px;\r\n    cursor: pointer;\r\n    color: var(--scene-base-inv-s1);\r\n}\r\n\r\n.modal__content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0 40px 10px 30px;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    overflow: auto;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.modal__footer {\r\n}\r\n\r\n.filter__modal__container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    align-items: center;\r\n    color: var(--scene-base-inv-s1);\r\n}\r\n\r\n.filter__modal__title {\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.list__items {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.list__items__item {\r\n    font-weight: 400;\r\n    background-color: rgb(230, 230, 230);\r\n    padding: 8px 16px;\r\n    margin: 7px;\r\n    border-radius: 7px;\r\n    transition-duration: 0.1s;\r\n    transition-timing-function: ease-in-out;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.list__items__item svg {\r\n    margin-left: 10px;\r\n}\r\n\r\n.list__items__item span {\r\n    color: white;\r\n}\r\n\r\n.list__items__item--selected {\r\n    background-color: var(--scene-toggle-selected);\r\n}\r\n\r\n.list__items__item--selected:hover {\r\n    background-color: var(--scene-toggle-selected-hover) !important;\r\n}\r\n\r\n.list__items__item--not-selected {\r\n    background-color: var(--scene-toggle-not-selected);\r\n}\r\n\r\n.list__items__item--not-selected:hover {\r\n    background-color: var(--scene-toggle-not-selected-hover) !important;\r\n}\r\n\r\n.list__items__icon {\r\n    margin-left: 9px;\r\n}\r\n\r\n.list__items__item:hover {\r\n    background-color: rgb(205, 205, 205);\r\n}\r\n\r\n.input__box {\r\n    font-family: Roboto, serif;\r\n    font-weight: 500;\r\n    border: 2px solid var(--scene-base-inv-s1);\r\n    border-radius: 8px;\r\n    padding: 18px 20px;\r\n    margin: 7px;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.search__container {\r\n    display: flex;\r\n    width: 100%;\r\n    align-items: flex-end;\r\n    margin: 7px;\r\n}\r\n\r\n.search__container__button {\r\n    font-family: Roboto, serif;\r\n    padding: 0 20px 0 20px;\r\n    cursor: pointer;\r\n    background-color: var(--scene-button-color);\r\n    color: var(--scene-button-text);\r\n    border-radius: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    transition-duration: .1s;\r\n    height: 53px;\r\n    box-sizing: border-box;\r\n    margin-left: 10px;\r\n}\r\n\r\n.search__container__button:hover {\r\n    background-color: var(--scene-button-hover);\r\n    color: var(--scene-button-text);\r\n}\r\n\r\n.textfield {\r\n    font-family: Roboto, serif !important;\r\n    font-weight: 500;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.textfield__input {\r\n    width: 100%;\r\n    padding: 16px 20px 15px 20px;\r\n    margin: 8px 0 0 0;\r\n    outline: none;\r\n    display: inline-block;\r\n    box-shadow: unset !important;\r\n    transition: 0.2s all linear;\r\n    /*someone made a global textarea*/\r\n}\r\n\r\n.textfield__header {\r\n    display: flex;\r\n    margin-bottom: 0 !important;\r\n}\r\n\r\n.textfield__header div {\r\n    margin-bottom: 0 !important;\r\n}\r\n\r\n.textfield__action {\r\n    margin-left: 10px;\r\n    color: var(--scene-dialog-value);\r\n    cursor: pointer;\r\n}\r\n\r\n.textfield__input:focus {\r\n    border: 2px solid var(--scene-snackbar-success);\r\n}\r\n\r\n.textfield__input, .textfield__input::placeholder {\r\n    font-size: 15px\r\n}",""]);const a=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&o[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},o=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],d=s[l]||0,p="".concat(l," ").concat(d);s[l]=d+1;var h=n(p),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(u);else{var m=i(u,r);r.byIndex=a,t.splice(a,0,{identifier:p,updater:m,references:1})}o.push(p)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var s=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var c=r(e,i),l=0;l<s.length;l++){var d=n(s[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{ConfigGenerator:()=>fe,DefaultAnimationConfig:()=>e,DefaultLine:()=>t,DefaultPropConfig:()=>i,ExcludeKeys:()=>s,GlobalConfigGenerator:()=>_e,PositionConfigGenerator:()=>be,PropConfigGenerator:()=>xe,PropType:()=>o,PropTypeIcons:()=>a,Scene:()=>ge,camelToDisplay:()=>E,convertTypeToReadable:()=>d,createDialog:()=>w,createElement:()=>p,createIconFontElement:()=>b,createSVGElement:()=>_,createSVGIcon:()=>x,createSpan:()=>O,extractPathD:()=>C,flatObject:()=>R,forEachPathHTML:()=>L,generateDarkColor:()=>g,generateLightColor:()=>f,generateRandomString:()=>I,getDemoGlobalConfigGenerator:()=>ye,getDemoScene:()=>ve,getLineGroup:()=>y,getPathGroupByHTML:()=>S,getRandomFromList:()=>m,positionToDisplay:()=>P,randBoolean:()=>u,randInclusive:()=>h,setClassList:()=>v,setStyles:()=>T,useSnackbar:()=>W});const e={degree:0,scaleX:1,scaleY:1,hide:!1,enabled:!0},t={color:"var(--scene-base-inv-s2)",width:1},i={style:"default",shouldDisplayName:!0,orderIndex:0,namePosition:"top",nameScale:1,nameXOffset:0,nameYOffset:0,excludeKeys:[]},s=["name","color","type","frameAnimationConfig","steps","note","shouldDisplayName","id","images","orderIndex","namePosition","nameScale","nameXOffset","nameYOffset","excludeKeys","nameColor","scripts"];var o;!function(e){e.TABLE="TABLE",e.LIGHT="LIGHT",e.CHARACTER="CHARACTER",e.CAMERA="CAMERA",e.DISPLAY="DISPLAY",e.SHELF="SHELF",e.MAP="MAP",e.SCRIPT="SCRIPT",e.STORYBOARD="STORYBOARD"}(o||(o={}));const a={TABLE:{default:{enabledPaths:'<path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>',disabledPaths:'<path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>\n  <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>'},triangle:{enabledPaths:'<path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>',disabledPaths:'<path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>\n  <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>'},fillTriangle:{enabledPaths:'<path fill-rule="evenodd" d="M7.022 1.566a1.13 1.13 0 0 1 1.96 0l6.857 11.667c.457.778-.092 1.767-.98 1.767H1.144c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"/>',disabledPaths:'<path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>'},square:{enabledPaths:'<path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>',disabledPaths:'<path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>\n  <path d="M11.354 4.646a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708l6-6a.5.5 0 0 1 .708 0z"/>'},fillSquare:{enabledPaths:'<path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>',disabledPaths:'<path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm9.354 5.354-6 6a.5.5 0 0 1-.708-.708l6-6a.5.5 0 0 1 .708.708z"/>'}},LIGHT:{default:{enabledPaths:'<path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"/>',disabledPaths:'<path fill-rule="evenodd" d="M2.23 4.35A6.004 6.004 0 0 0 2 6c0 1.691.7 3.22 1.826 4.31.203.196.359.4.453.619l.762 1.769A.5.5 0 0 0 5.5 13a.5.5 0 0 0 0 1 .5.5 0 0 0 0 1l.224.447a1 1 0 0 0 .894.553h2.764a1 1 0 0 0 .894-.553L10.5 15a.5.5 0 0 0 0-1 .5.5 0 0 0 0-1 .5.5 0 0 0 .288-.091L9.878 12H5.83l-.632-1.467a2.954 2.954 0 0 0-.676-.941 4.984 4.984 0 0 1-1.455-4.405l-.837-.836zm1.588-2.653.708.707a5 5 0 0 1 7.07 7.07l.707.707a6 6 0 0 0-8.484-8.484zm-2.172-.051a.5.5 0 0 1 .708 0l12 12a.5.5 0 0 1-.708.708l-12-12a.5.5 0 0 1 0-.708z"/>'},lightning:{enabledPaths:'<path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41 4.157 8.5z"/>',disabledPaths:'<path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>'}},CHARACTER:{default:{enabledPaths:'<path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>',disabledPaths:'<path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6.146-2.854a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z"/>'}},CAMERA:{default:{enabledPaths:'<path fill-rule="evenodd" d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5zm11.5 5.175 3.5 1.556V4.269l-3.5 1.556v4.35zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2z"/>',disabledPaths:'<path fill-rule="evenodd" d="M10.961 12.365a1.99 1.99 0 0 0 .522-1.103l3.11 1.382A1 1 0 0 0 16 11.731V4.269a1 1 0 0 0-1.406-.913l-3.111 1.382A2 2 0 0 0 9.5 3H4.272l.714 1H9.5a1 1 0 0 1 1 1v6a1 1 0 0 1-.144.518l.605.847zM1.428 4.18A.999.999 0 0 0 1 5v6a1 1 0 0 0 1 1h5.014l.714 1H2a2 2 0 0 1-2-2V5c0-.675.334-1.272.847-1.634l.58.814zM15 11.73l-3.5-1.555v-4.35L15 4.269v7.462zm-4.407 3.56-10-14 .814-.58 10 14-.814.58z"/>'}},DISPLAY:{default:{enabledPaths:'<path d="M0 4s0-2 2-2h12s2 0 2 2v6s0 2-2 2h-4c0 .667.083 1.167.25 1.5H11a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h.75c.167-.333.25-.833.25-1.5H2s-2 0-2-2V4zm1.398-.855a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3H2c-.325 0-.502.078-.602.145z"/>',disabledPaths:'<path d="M6 12c0 .667-.083 1.167-.25 1.5H5a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1h-.75c-.167-.333-.25-.833-.25-1.5h4c2 0 2-2 2-2V4c0-2-2-2-2-2H2C0 2 0 4 0 4v6c0 2 2 2 2 2h4z"/>'}},SHELF:{default:{enabledPaths:'<path d="M2.5 0a.5.5 0 0 1 .5.5V2h10V.5a.5.5 0 0 1 1 0v15a.5.5 0 0 1-1 0V15H3v.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zM3 14h10v-3H3v3zm0-4h10V7H3v3zm0-4h10V3H3v3z"></path>',disabledPaths:'<path d="M2.5 0a.5.5 0 0 1 .5.5V2h10V.5a.5.5 0 0 1 1 0v15a.5.5 0 0 1-1 0V15H3v.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zM3 14h10v-3H3v3zm0-4h10V7H3v3zm0-4h10V3H3v3z"></path>'}},MAP:{default:{enabledPaths:'<path fill-rule="evenodd" d="M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8l3-4z"></path><path fill-rule="evenodd" d="M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z"></path>',disabledPaths:'<path fill-rule="evenodd" d="M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8l3-4z"></path><path fill-rule="evenodd" d="M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z"></path>'}},STORYBOARD:{default:{enabledPaths:'<path d="M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5v-11zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5H12z"/>\n  <path d="M2 3h10v2H2V3zm0 3h4v3H2V6zm0 4h4v1H2v-1zm0 2h4v1H2v-1zm5-6h2v1H7V6zm3 0h2v1h-2V6zM7 8h2v1H7V8zm3 0h2v1h-2V8zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1z"/>',disabledPaths:'<path d="M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5v-11zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5H12z"/>\n  <path d="M2 3h10v2H2V3zm0 3h4v3H2V6zm0 4h4v1H2v-1zm0 2h4v1H2v-1zm5-6h2v1H7V6zm3 0h2v1h-2V6zM7 8h2v1H7V8zm3 0h2v1h-2V8zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1z"/>'}},SCRIPT:{default:{enabledPaths:"",disabledPaths:""}}};class c{constructor(e){this._components=[],this._componentsActions=[],this._state=e}get(){return this._state}getPrevious(){return this._previous_state}render(){this._components.forEach((e=>{e.renderComponent()}))}set(e,t){(t||e!==this._state)&&(this._componentsActions.forEach((([,t])=>{t&&t(this.get(),e,this._previous_state)})),this._previous_state=this._state,this._state=e,this._componentsActions.forEach((([,,e])=>{e&&e(this._previous_state,this.get())})),this.render())}unsubscribe(e){this._components=this._components.filter((t=>t!==e)),this._componentsActions=this._componentsActions.filter((t=>t[0]!==e))}subscribe(e){this._components.push(e)}subscribeActions(e,t,n){this._componentsActions.push([e,t,n])}}function l(e){return new c(e)}function d(e){return`${e.charAt(0).toUpperCase()}${e.slice(1).toLowerCase()}`}function p(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.children[0]}function h(e,t){return Math.floor(Math.random()*(t-e+1))+e}function u(){return!!h(0,1)}function m(e){return e[h(0,e.length-1)]}function g(){const e=()=>h(0,125);return`rgb(${e()},${e()},${e()})`}function f(){const e=()=>h(125,255);return`rgb(${e()},${e()},${e()})`}function _(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("width",String(e)),n.setAttribute("height",String(t)),n.setAttribute("viewBox",`0 0 ${e} ${t}`),n}function b(e,...t){const n=document.createElement("i");return e&&(n.id=e),t.forEach((e=>n.classList.add(e))),n}function x(e){const t=_(16,16);return t.setAttribute("transform",`scale(${e} ${e})`),t}function v(e,...t){e.removeAttribute("class"),e.classList.add(...t)}function y(e,t,n,r,i,s){return`<g stroke-width="${i}" stroke="${s}"><path d="M${e} ${t}  L${n} ${r}"/></g>`}function T(e,t,...n){n.forEach((n=>{n&&(n.style[e]=t)}))}function P(e){const t=Object.assign({},e);for(let e in t){const n=t[e];"number"==typeof n&&(t[e]=e.includes("scale")?Math.round(10*n)/10:Math.round(n))}return t}function E(e){return(e=e.charAt(0).toUpperCase()+e.slice(1)).replace(/[A-Z]/g,(e=>` ${e}`)).trim()}function O(e,t){const n=document.createElement("span");return n.innerText=e,n.style.color=t||"black",n}function S(e,t,n){const r=document.createElementNS("http://www.w3.org/2000/svg","g");return L(e,(e=>{const i=p(e);i.style.fill=n||t.color,r.appendChild(i)})),r}function L(e,t){e.match(/<path.*?\/>|<path.*?><\/path>/g).forEach((e=>{t(e)}))}function C(e){const t=e.match(/d=["'`](.*?)["'`]/);return null==t?"":t[1]}function R(e){const t={},n=(e,r)=>{Object.keys(e).sort().forEach((i=>{const s=r;r+=`.${i}`,"object"==typeof e[i]?n(e[i],r):t[r.slice(1)]=e[i],r=s}))};return n(e,""),t}function w(e,t){return`<div class="modal">\n                <div class="modal__header">\n                <span class="modal__header__title">${e}</span><span class="bi bi-x modal__header__close"></span>\n                </div>\n                <div class="modal__content">\n                ${"string"==typeof t?t:t.outerHTML}\n                </div>\n            </div>`}const I=(e=15)=>{let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=n.length;for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t};class A extends class{unmount(){this.listen().forEach((e=>{e.unsubscribe(this)})),this.actions().forEach((([e,t,n])=>{(t||n)&&e.unsubscribe(this)}))}mount(){this.listen().forEach((e=>{e.subscribe(this)})),this.actions().forEach((([e,t,n])=>{(t||n)&&e.subscribeActions(this,t,n)}))}listen(){return[]}renderComponent(){this.renderInIds().forEach((e=>{const t=this.render(),n=document.getElementById(e);n?Array.isArray(t)?n.innerHTML=t.join(""):"string"==typeof t?n.innerHTML=t:(n.innerHTML="",n.append(t)):console.warn(`Scene: ${e} not found`)})),this.afterRender()}actions(){return[]}renderInIds(){return[]}afterConstructor(){}hook(e,t){this.hookedComponents[e]=t}}{constructor(e){super(),this.scene=e,[this.ids,this.idCtx]=[this.scene.ids,this.scene.idContext],this.snackbarCtx=this.scene.snackbarCtx,this.overlayCtx=this.scene.overlayCtx,this.themeCtx=this.scene.themeCtx,this.propCtx=this.scene.propCtx,this.getViewportCtx=this.scene.getViewportGetter(),this.afterConstructor(),this.mount()}}const B={ROOT_SNACKBAR:["snackbar","root__container"],ROOT_PROP_LIST:["prop__list","root__container"],ROOT_PROP_DIALOG:["prop__property","root__container"],ROOT_VIEW:["view","root__container"],ROOT_FOOTER:["footer","root__container"],ROOT_OVERLAY:["overlay","root__container"],VIEW_ICON_PATH_GROUP:["view","prop","icon","group"],VIEW_ICON_PATH_GROUP_ENABLED:["view","prop","icon","group","enabled"],VIEW_ICON_PATH_GROUP_DISABLED:["view","prop","icon","group","disabled"],VIEW_PROP_TEXT:["view","prop","text"],VIEW_GROUP:["view","prop"],VIEW_CONNECTIONS:["view","connections"],VIEW_LINES_GROUP:["view","lines","group"],VIEW_PROP:["view","prop"],VIEW_SVG:["view","svg","sss"],OVERLAY:["overlay"],FRAME_PROGRESS_FINISHED:["frame","progress","finished"],FRAME_PROGRESS_UNFINISHED:["frame","progress","unfinished"],TIMELINE_FRAME:["timeline","frame"],TOOLBAR:["toolbar"],TOOLBAR_PLAY_BUTTON:["toolbar","play"],TOOLBAR_FULLSCREEN:["toolbar","fullscreen"],TOOLBAR_COLLAPSE_BUTTON:["toolbar","collapse"],TOOLBAR_RESET_CURRENT_BUTTON:["toolbar","reset","current"],TOOLBAR_RESET_FRAMES_BUTTON:["toolbar","reset","frames"],TOOLBAR_EXPORT_BUTTON:["toolbar","export"],TOOLBAR_THEME_BUTTON:["toolbar","theme"],PROP_DIALOG_CLOSE_ICON:["prop","dialog","property"],PROP_DIALOG_FOOTER_ICON:["prop","dialog","property","icon"],PROP_DIALOG_FOOTER_POSITION:["prop","dialog","footer","position"],PROP_DIALOG_FOOTER_SCALE:["prop","dialog","footer","scale"],PROP_DIALOG_HEADER_TAB:["dialog"],PROP_LIST:["prop","list"],PROP_LIST_HIDE:["prop","list","hide"],PROP_LIST_RESET_BUTTON:["prop","list","reset"],PROP_LIST_DIALOG_BUTTON:["prop","list","open","dialog"],PROP_LIST_HIDE_ICON:["prop","list","hide","icon"],SNACKBAR:["snackbar"],CANVAS:["canvas"],PROP_TYPE_TOGGLE:["prop","type","toggle"],PROP_SEARCH_INPUT:["prop","search","input"],PROP_FILTERED_LIST:["prop","filtered","list"],PROP_FILTER_DIALOG_SELECT_ALL:["prop","filter","dialog","select"],PROP_FILTER_DIALOG_DESELECT_ALL:["prop","filter","dialog","deselect"],PROP_FILTER_DIALOG_CLEAR_TEXTFIELD:["prop","filter","dialog","clear"]};class F{constructor(){this.contextId=F.contextIds,F.contextIds+=1;for(let e in B)this[e]=(t,...n)=>this.getId(t,...n,...B[e])}getType(...e){return this.getId(null,...e)}getId(e,...t){t.sort(((e,t)=>e.localeCompare(t)));const n=null==e?"":"number"==typeof e?"-"+e:null===e.id?"":"-"+e.id;return`${this.contextId}-${t.join("-")}${n}`}extractIdType(e,...t){const n=e.match(/-\d+/),r=e.match(/\d+-/);if(!r||parseInt(r[0].replace("-",""))!=this.contextId)return[-1,[]];let i=-1;return n&&(i=parseInt(n[0].replace("-",""))),[i,e.replace(/-\d+/,"").replace(/\d+-/,"").split("-").filter((e=>!t.includes(e)))]}}var k;F.contextIds=0,function(e){e.IMAGES="IMAGES",e.GENERAL="GENERAL",e.STEPS="STEPS",e.SCRIPTS="SCRIPTS",e.DEBUG="DEBUG"}(k||(k={}));class D extends A{selectTab(e){this.selectedTabState.set(e,!0)}afterConstructor(){this.selectedTabState=l(k.GENERAL)}listen(){return[this.propCtx.selectedPropState,this.propCtx.propsState,this.selectedTabState]}renderInIds(){return[this.ids.ROOT_PROP_DIALOG]}actions(){return[[this.propCtx.selectedPropState,()=>{this.selectedTabState.set(k.GENERAL)}],[this.scene.propCtx.currentFrameState,(e,t)=>{const n=this.propCtx.selectedProp;if(n){const r=document.getElementById(this.idCtx.PROP_DIALOG_FOOTER_POSITION(n)),i=document.getElementById(this.idCtx.PROP_DIALOG_FOOTER_SCALE(n));this.updatePositionScaleElements(r,i,n,t,t<e)}}]]}updatePositionScaleElements(e,t,n,r,i){const s=P(null==r?this.propCtx.getPropPositionByCurrentFrame(n):this.propCtx.getPropPositionByFrame(n,r,i));e&&(e.innerText=`(${s.x}, ${s.y}, ${s.degree}°)`,e.style.color=n.color),t&&(t.innerText=`(${s.scaleX}x, ${s.scaleY}x)`,t.style.color=n.color)}afterRender(){this.scene.idOn(this.ids.PROP_DIALOG_CLOSE_ICON,"click",(e=>{this.propCtx.clearSelectedProp()})),this.scene.$$(".header__tab").forEach((e=>{e.addEventListener("click",(e=>{const[t,n]=this.idCtx.extractIdType(e.target.id,...B.PROP_DIALOG_HEADER_TAB);this.selectedTabState.set(n[0])}))})),this.scene.$$(".content .image__container img").forEach((e=>e.addEventListener("click",(e=>{this.overlayCtx.openWith(`<img src='${e.target.getAttribute("src")}' alt=""/>`)}))))}render(){const e=this.propCtx.selectedProp;if(e){const t=document.createElement("div"),n=document.createElement("div");n.classList.add("prop__dialog--embedded",this.scene.isRootMobile()?"prop__dialog--embedded--mobile":"prop__dialog--embedded--normal"),t.appendChild(n);const r=document.createElement("div");r.classList.add("header");const i=(e,t,n,...i)=>{if(this.scene.config.alwaysShowAllDialogTabs||n){const n=document.createElement("span"),s=document.createElement("span");s.innerText=t,n.append(s),n.classList.add(...i,"tooltip","header__tab"),n.id=this.idCtx.PROP_DIALOG_HEADER_TAB(null,e),n.classList.add(this.selectedTabState.get()===e?"header__button--selected":"header__button--not-selected"),r.append(n)}};i(k.GENERAL,"General Information",!0,"bi","bi-boxes"),i(k.SCRIPTS,"Scripts",e.scripts,"bi","bi-journal-bookmark-fill"),i(k.STEPS,"Steps",e.steps&&Object.keys(e.steps).length>0,"bi","bi-123"),i(k.IMAGES,"Images",e.images&&e.images.length>0,"bi","bi-image-fill"),this.scene.config.showDialogDebugTab&&i(k.DEBUG,"Debug Information",this.scene.config.showDialogDebugTab,"bi","bi-bug");const o=document.createElement("div");o.classList.add("content");const a=(e,t,n)=>{const r=document.createElement("span"),i=document.createElement("span"),s=document.createElement("span");return i.innerHTML=n?`【${E(String(e))}】 `:`【${String(e)}】 `,i.classList.add("content__key"),s.innerHTML=String(t),s.classList.add("content__value"),r.classList.add("content__key-value"),r.append(i,s),r},c=e=>{const t=document.createElement("div");t.classList.add("image__container","bottom-gray-border");const n=document.createElement("img"),r=document.createElement("span");return r.innerText=e.title?e.title:"",r.classList.add("content-text--normal"),t.append(r),n.src=e.imageURL,t.append(n),t},l=(e,t)=>{const n=document.createElement("div");n.classList.add("step-card","bottom-gray-border");const r=document.createElement("div"),i=document.createElement("span");i.innerText=String(e),i.classList.add("step-card__step");const s=document.createElement("span");s.innerText=t.title?t.title:"",s.classList.add("content-text--normal"),r.append(i,s);const o=document.createElement("span");return o.innerText=t.content?t.content:"",o.classList.add("content-text--normal"),n.append(r,o),n};switch(this.selectedTabState.get()){case k.GENERAL:for(let t in e)s.includes(t)||e.excludeKeys.includes(t)||o.append(a(t,e[t]));e.note&&o.append(a("Note",e.note));break;case k.SCRIPTS:if(e.scripts){const t=document.createElement("span");t.innerText=e.scripts,t.classList.add("content-text--normal"),o.append(t)}break;case k.IMAGES:e.images&&e.images.forEach((e=>{o.append(c(e))}));break;case k.STEPS:e.steps&&Object.keys(e.steps).sort(((e,t)=>Number(e)-Number(t))).forEach((t=>{o.append(l(Number(t),e.steps[t]))}));break;case k.DEBUG:switch(this.scene.config.dialogDebugTabFormat){case"flat":const t=R(e);for(let e in t)o.append(a(e,t[e],!1));break;case"json":const n=document.createElement("p");n.innerText=JSON.stringify(e,null,2),n.classList.add("content-text--normal"),o.append(n)}}const d=document.createElement("div");d.classList.add("prop__dialog__footer");const p=document.createElement("i");p.id=this.ids.PROP_DIALOG_CLOSE_ICON,p.classList.add("bi","bi-x","pointer","prop__dialog__close"),r.appendChild(p);const h=this.propCtx.getPropSVG(e);h.id=this.idCtx.PROP_DIALOG_FOOTER_ICON(e);const u=document.createElement("span");u.innerText=e.name,u.style.color=e.color;const m=document.createElement("span"),g=document.createElement("span");return this.updatePositionScaleElements(m,g,e),m.id=this.idCtx.PROP_DIALOG_FOOTER_POSITION(e),g.id=this.idCtx.PROP_DIALOG_FOOTER_SCALE(e),d.append(h,u,m,g),n.append(r,o,d),t.outerHTML}return""}}class M{constructor(e,t){this.progressFinished=e,this.progressUnfinished=t}static setStyles(e,t,n,r){e.style.width=t,e.style.transitionDuration=n,"0s"==n?e.classList.add("no-transition"):e.classList.remove("no-transition"),r&&(e.style.transitionTimingFunction=r)}full(){M.setStyles(this.progressFinished,"100%","0s"),M.setStyles(this.progressUnfinished,"0%","0s")}reset(){M.setStyles(this.progressFinished,"0%","0s"),M.setStyles(this.progressUnfinished,"100%","0s")}setTransition(e,t,n){M.setStyles(this.progressFinished,n?"100%":"0%",e,t),M.setStyles(this.progressUnfinished,n?"0%":"100%",e,t)}}class H extends A{constructor(){super(...arguments),this.timeouts=[]}play(e){this.playing.set(e)}afterConstructor(){this.open=l(!0),this.playing=l(!1)}listen(){return[]}getProgressBars(e){const t=document.getElementById(this.idCtx.FRAME_PROGRESS_FINISHED(e)),n=document.getElementById(this.idCtx.FRAME_PROGRESS_UNFINISHED(e));return n&&t?new M(t,n):null}actions(){const e=(e,t)=>{const n=document.getElementById(this.idCtx.TIMELINE_FRAME(e));n.classList.remove(t?"timeline__frame--not-selected":"timeline__frame--selected"),n.classList.add(t?"timeline__frame--selected":"timeline__frame--not-selected")};return[[this.themeCtx.currentState,null,()=>{const e=this.themeCtx.currentTheme,t=document.getElementById(this.ids.TOOLBAR_THEME_BUTTON),n=t.querySelector("i"),r=t.parentElement.querySelector("span");n&&v(n,...e.icon.split(" ")),r&&(r.innerText=`Theme (${this.themeCtx.themeToDisplay})`)}],[this.open,(e,t)=>{const n=document.getElementById(this.ids.TOOLBAR);if(n){const e=t?0:-(n.getBoundingClientRect().height-45);n.style.bottom=`${e}px`}}],[this.playing,(e,t)=>{const n=document.getElementById(this.ids.TOOLBAR_PLAY_BUTTON),r=n.querySelector("i"),i=n.parentElement.querySelector("span");t?(v(r,"bi","bi-pause-fill"),i.innerText="Pause"):(v(r,"bi","bi-play-fill"),i.innerText="Play")},()=>{const e=()=>{if(this.playing.get()){const t=this.scene.propCtx.nextFrame();this.scene.registerTimeOut((()=>{e()}),1e3*this.scene.getFrameSeconds(t))}};e()}],[this.scene.propCtx.currentFrameState,(t,n,r)=>{if(console.log(`Frame: ${r} | ${t} -> ${n}`),null==t)return;const i=this.scene.getFrameSeconds(t);if(this.propCtx.ifJumpOneLiterally(t,n)){if(e(t,!0),this.timeouts.push(this.scene.registerTimeOut((()=>{e(n,!0)}),1e3*i)),null==r||this.propCtx.ifJumpOne(r,t)){const e=this.getProgressBars(t-1);e&&e.full()}const s=this.getProgressBars(t);s&&s.setTransition(i+"s",this.scene.config.transitionTimingFunction,!0)}else{this.timeouts.forEach((e=>{clearTimeout(e)}));for(let t=1;t<=this.propCtx.totalFrames;t++){e(t,!1);const n=this.getProgressBars(t);n&&n.reset()}e(n,!0)}}]]}renderInIds(){return[this.ids.ROOT_FOOTER]}afterRender(){this.open.set(this.scene.config.defaultOpenToolbar);const e=(e,t)=>{this.scene.idOn(t,"click",(n=>{e(document.getElementById(t))}))};this.scene.$$(".timeline__frame").forEach((e=>e.addEventListener("click",(e=>{const[t]=this.idCtx.extractIdType(e.target.id);this.scene.propCtx.currentFrame=t})))),e((()=>{this.open.set(!this.open.get())}),this.ids.TOOLBAR_COLLAPSE_BUTTON),e((()=>{this.scene.viewComponent.resetViewport(),this.snackbarCtx.success("Reset Viewport - Frames Based")}),this.ids.TOOLBAR_RESET_FRAMES_BUTTON),e((()=>{this.scene.viewComponent.resetViewport(this.scene.propCtx.currentFrame),this.snackbarCtx.success("Reset Current Viewport")}),this.ids.TOOLBAR_RESET_CURRENT_BUTTON),e((()=>{this.playing.set(!this.playing.get())}),this.ids.TOOLBAR_PLAY_BUTTON),e((()=>{const e=this.scene.config.exportPopulatedConfig?this.scene.originalConfig:JSON.stringify(this.scene.config,null,2);navigator.clipboard.writeText(e).then((()=>this.snackbarCtx.success("Copied to clipboard")))}),this.ids.TOOLBAR_EXPORT_BUTTON),e((()=>{this.themeCtx.next()}),this.ids.TOOLBAR_THEME_BUTTON),e((e=>{e.parentElement.querySelector("span").classList.remove("toolbar__tooltip--visible"),document.fullscreenElement?document.exitFullscreen().then():this.scene.getRootDocument().requestFullscreen().then()}),this.ids.TOOLBAR_FULLSCREEN)}render(){const e=document.createElement("div"),t=document.createElement("div");t.id=this.ids.TOOLBAR,t.classList.add("toolbar");const n=(e,n,r)=>{const i=document.createElement("div");i.classList.add("tooltip","toolbar__button-container");const s=document.createElement("div");s.id=r,s.classList.add("scene__button","toolbar__button","pointer");const o=document.createElement("i");o.classList.add(...n.split(" ")),s.append(o);const a=document.createElement("span");a.innerText=e,i.append(s,a),t.append(i)},r=this.scene.propCtx.currentFrame;if(n("Collapse/Expand","bi bi-arrows-collapse",this.ids.TOOLBAR_COLLAPSE_BUTTON),n("Toggle fullscreen mode","bi bi-arrows-fullscreen",this.ids.TOOLBAR_FULLSCREEN),n("Reset viewport (based on current frame)","bi bi-arrows-move",this.ids.TOOLBAR_RESET_CURRENT_BUTTON),this.propCtx.isStatic||n("Reset viewport (based on all frames)","bi bi-bootstrap-reboot",this.ids.TOOLBAR_RESET_FRAMES_BUTTON),n("Export","bi bi-box-arrow-up-right",this.ids.TOOLBAR_EXPORT_BUTTON),n(`Theme (${this.themeCtx.themeToDisplay})`,this.themeCtx.currentTheme.icon,this.ids.TOOLBAR_THEME_BUTTON),this.scene.config.displayToolbar&&e.append(t),!this.scene.propCtx.isStatic){const t=document.createElement("div");t.classList.add("timeline-container"),this.scene.config.displayToolbar||t.classList.add("timeline-container-full-width");for(let e=0;e<this.propCtx.totalFrames;e++){const n=e+1,i=document.createElement("div");i.classList.add("timeline__frame-container"),n!=this.propCtx.totalFrames&&(i.style.flexGrow=String(Math.floor(10*this.scene.getFrameSeconds(n))));const s=document.createElement("div");s.classList.add("progress-container");const o=document.createElement("div"),a=document.createElement("div");o.classList.add("progress","progress-finished"),a.classList.add("progress","progress-not"),o.id=this.idCtx.FRAME_PROGRESS_FINISHED(n),a.id=this.idCtx.FRAME_PROGRESS_UNFINISHED(n),s.append(o,a),i.append(s);const c=document.createElement("div");c.id=this.idCtx.TIMELINE_FRAME(n),c.classList.add("timeline__frame",r===n?"timeline__frame--selected":"timeline__frame--not-selected","pointer"),c.innerText=String(n),i.append(c),t.append(i)}n("Play",this.playing.get()?"bi bi-pause-fill":"bi bi-play-fill",this.ids.TOOLBAR_PLAY_BUTTON),this.scene.config.displayTimeline&&e.append(t)}return e}}class z extends Set{static sortIdTuple(e){return e[0]<e[1]?[e[0],e[1]]:[e[1],e[0]]}addIdTuple(e){return super.add(z.sortIdTuple(e).join(","))}hasIdTuple(e){return super.has(z.sortIdTuple(e).join(","))}}class N extends A{forEachPropWithPosition(e){this.propCtx.filteredProps.forEach((t=>{const n=this.propCtx.getPropPositionByCurrentFrame(t);n&&e(t,n)}))}}class V extends N{afterConstructor(){this.connections=l(new z)}listen(){return[this.propCtx.propsState,this.propCtx.selectedPropTypesState,this.propCtx.searchPropValueState]}actions(){return[[this.propCtx.selectedPropState,(e,t)=>{if(e){const t=document.getElementById(this.idCtx.VIEW_PROP(e));t&&t.classList.remove("view__prop--selected")}if(t){const e=document.getElementById(this.idCtx.VIEW_PROP(t));e&&(e.classList.remove("view__prop--not-selected"),e.classList.add("view__prop--selected"))}}],[this.propCtx.currentFrameState,(e,t)=>{this.propCtx.filteredProps.forEach((n=>{let r=n.frameAnimationConfig[t],i=r&&!r.hide;r=this.propCtx.getPropPositionByFrame(n,t,t<e);const s=document.getElementById(this.idCtx.VIEW_PROP(n));s.style.display=i?"unset":"none";const o=document.getElementById(this.idCtx.VIEW_ICON_PATH_GROUP_ENABLED(n)),a=document.getElementById(this.idCtx.VIEW_ICON_PATH_GROUP_DISABLED(n)),c=s.querySelector("image");let l;o&&(o.style.opacity=r.enabled?"1":"0"),a&&(a.style.opacity=r.enabled?"0":"1"),c&&r.thumbnail&&(r.thumbnail.height&&c.setAttributeNS(null,"height",String(r.thumbnail.height)),r.thumbnail.width&&c.setAttributeNS(null,"width",String(r.thumbnail.width)),r.thumbnail.imageURL&&c.setAttributeNS("http://www.w3.org/1999/xlink","href",r.thumbnail.imageURL)),s.setAttribute("transform",`translate(${r.x}, ${r.y}) rotate(${r.degree}) scale(${r.scaleX} ${r.scaleY})`),l=this.propCtx.ifJumpOne(e,t)?this.scene.getFrameSeconds(e)+"s":this.scene.config.frameSelectionSpeed+"s",T("transitionDuration",l,o,a,s,c);const d=this.propCtx.getPropPositionByFrame(n,e,!1);d&&T("transitionTimingFunction",d.transitionTimingFunction,o,a,s,c)}))}]]}renderInIds(){return[this.ids.ROOT_VIEW]}applyViewportAttrs(e){const t=document.getElementById(this.ids.VIEW_SVG);t.setAttribute("viewBox",`${-this.getViewportCtx().x} ${-this.getViewportCtx().y} ${t.clientWidth*this.getViewportCtx().scale} ${t.clientHeight*this.getViewportCtx().scale}`),e||this.scene.$$(".view__prop").forEach(((e,t)=>{const n=this.propCtx.getPropById(this.idCtx.extractIdType(e.id)[0]);if(n.shouldDisplayName){const t=this.propCtx.getPropPositionByCurrentFrame(n),r=e.querySelector("text"),i=document.getElementById(this.idCtx.VIEW_ICON_PATH_GROUP(n,t.enabled?"enabled":"disabled")),s=e.querySelector("image");if(r){const e=r.getBBox().width,t=r.getBBox().height,o=s?s.getBBox():i.getBBox();let a,c,l=o.width/2-e/2,d=o.height/2+t/2;switch(n.namePosition){case"top":c=-7,a=l;break;case"bottom":c=o.height+t+7,a=l;break;case"left":c=d,a=Math.floor(-e-o.width);break;case"right":c=d,a=Math.floor(o.width+7);break;case"center":c=d,a=l}r.setAttribute("y",String(n.nameYOffset+c)),r.setAttribute("x",String(n.nameXOffset+a)),r.setAttribute("transform",`scale(${n.nameScale} ${n.nameScale})`)}else n.type,o.STORYBOARD}}))}resetViewport(e){this.getViewportCtx().resetViewport(e),this.applyViewportAttrs()}afterRender(){this.mouse={x:0,y:0},this.dragging=!1,this.resetViewport(this.propCtx.currentFrame);const e=document.getElementById(this.ids.ROOT_VIEW),t=t=>{e.style.cursor="unset";const n=null==t.touches?t.clientX:t.touches[0].pageX,r=null==t.touches?t.clientY:t.touches[0].pageY;return{x:n-e.getBoundingClientRect().left,y:r-e.getBoundingClientRect().top}},n=e=>{const t=e.target,n=t.id?t.id:t.parentElement.id;let[r]=this.idCtx.extractIdType(n);this.propCtx.toggleSelected(r)};e.onmousedown=e.ontouchstart=n=>{n.preventDefault(),this.dragging=!0,this.mouse=t(n),e.style.cursor="grabbing"},e.onmousemove=e.ontouchmove=e=>{if(e.preventDefault(),this.dragging){const n=this.getViewportCtx().offset,r=Object.assign({},this.mouse),i=t(e);this.mouse=i,this.getViewportCtx().offset={x:n.x+i.x-r.x,y:n.y+i.y-r.y},this.applyViewportAttrs(!0)}},e.onmouseleave=e.onmouseup=e.ontouchcancel=e.ontouchend=e=>{this.dragging&&(e.preventDefault(),this.dragging=!1,document.getElementById(this.ids.ROOT_VIEW).style.cursor="unset")},e.onwheel=e=>{e.preventDefault(),e.deltaY>0?this.getViewportCtx().zoomIn():this.getViewportCtx().zoomOut(),this.applyViewportAttrs(!0)},this.scene.$$(".view__prop").forEach((e=>{e.addEventListener("click",n),e.addEventListener("touchend",n)}))}createConnections(){let e=[...this.connections.get()].map((e=>{const t=e.split(",").map((e=>Number(e))),n=this.propCtx.getPropById(t[0]),r=this.propCtx.getPropById(t[1]),i=document.getElementById(this.idCtx.VIEW_GROUP(n)),s=document.getElementById(this.idCtx.VIEW_GROUP(r)),o=this.propCtx.getPropPositionByCurrentFrame(n),a=this.propCtx.getPropPositionByCurrentFrame(r),c=i.querySelector("text").getBoundingClientRect(),l=s.querySelector("text").getBoundingClientRect();return`<g stroke-width="1" stroke="red"><path d="M${o.x+c.width/2} ${o.y+c.height/2} L${a.x+l.width/2} ${a.y+l.height/2}"/></g>\n<g class="view__prop__connection"><path d="M${o.x} ${o.y} L${a.x} ${a.y}"/></g>`}));document.getElementById(this.ids.VIEW_CONNECTIONS).innerHTML=e.join("")}render(){const e=[];this.scene.config.lines.forEach((([t,n,r])=>{e.push(y(t.x,t.y,n.x,n.y,r.width,r.color))}));let t=[];this.forEachPropWithPosition(((e,n)=>{var r;const i=n.hide;if(n){const s=this.propCtx.isPropSelected(e),a=document.createElementNS("http://www.w3.org/2000/svg","g");if(a.classList.add("view__prop",s?"view__prop--selected":"view__prop--not-selected"),a.style.transitionTimingFunction=n.transitionTimingFunction,a.id=this.idCtx.VIEW_GROUP(e),a.setAttribute("transform",`translate(${n.x}, ${n.y}) rotate(${n.degree}) scale(${n.scaleX} ${n.scaleY})`),e.type===o.STORYBOARD){if(n.thumbnail){const e=document.createElementNS("http://www.w3.org/2000/svg","image");null==n.thumbnail.width&&null==n.thumbnail.height&&(n.thumbnail.width=50),n.thumbnail.height&&e.setAttributeNS(null,"height",String(n.thumbnail.height)),n.thumbnail.width&&e.setAttributeNS(null,"width",String(n.thumbnail.width)),e.setAttributeNS("http://www.w3.org/1999/xlink","href",n.thumbnail.imageURL),e.setAttributeNS(null,"x",String(n.x)),e.setAttributeNS(null,"y",String(n.y)),a.append(e)}}else{const t=S(this.propCtx.propTypePool[e.type][e.style].enabledPaths,e),n=S(this.propCtx.propTypePool[e.type][e.style].disabledPaths,e);t.id=this.idCtx.VIEW_ICON_PATH_GROUP_ENABLED(e),n.id=this.idCtx.VIEW_ICON_PATH_GROUP_DISABLED(e),this.propCtx.isPropEnabled(e)?n.style.opacity="0":t.style.opacity="0",a.append(t,n)}if(e.shouldDisplayName){const t=document.createElement("text");t.id=this.idCtx.VIEW_PROP_TEXT(e),t.innerText=e.name,t.style.fill=null!==(r=e.nameColor)&&void 0!==r?r:e.color,a.appendChild(t)}i&&(a.style.display="none"),t.push(a.outerHTML)}}));for(let e in this.scene.config.attachment){const t=this.propCtx.getPropsByName(e);let n=[];this.scene.config.attachment[e].forEach((e=>{n=n.concat(this.propCtx.getPropsByName(e))})),t.forEach((e=>{n.forEach((t=>{e!==t&&this.connections.get().addIdTuple([e.id,t.id])}))}))}return`<svg id="${this.ids.VIEW_SVG}" class="view-svg" xmlns="http://www.w3.org/2000/svg"><g id="${this.ids.VIEW_CONNECTIONS}"></g>${t.join("")}\n<g id="${this.ids.VIEW_LINES_GROUP}">${e.join("")}</g></svg>`}}const $={defaultTheme:"light",themeScope:"container",dialog:"embedded",viewOffset:.2,transitionTimingFunction:"linear",frameSpeed:{},attachment:{},defaultFrameSpeed:1,frameSelectionSpeed:1,defaultOpenPropList:!0,defaultOpenToolbar:!0,propTypes:{},lines:[],alwaysShowAllDialogTabs:!1,props:[],renderMethod:"svg",zoomLowerBound:.15,zoomUpperBound:2,zoomStep:1.02,showDialogDebugTab:!1,dialogDebugTabFormat:"json",customThemes:{},displayToolbar:!0,displayPropList:!0,displayTimeline:!0,exportPopulatedConfig:!0,autoPlay:!1};class G extends A{constructor(){super(...arguments),this.timeouts=[]}actions(){return[[this.snackbarCtx.snackbarState,(e,t)=>{const n=document.getElementById(this.ids.SNACKBAR),r=n.querySelector("span");n.classList.remove("snackbar--closed"),this.snackbarCtx.isError?(n.classList.remove("snackbar--success"),n.classList.add("snackbar--error")):(n.classList.add("snackbar--success"),n.classList.remove("snackbar--error")),r.innerText=t,this.timeouts.forEach((e=>{clearTimeout(e)})),this.timeouts.push(this.scene.registerTimeOut((()=>{n.classList.add("snackbar--closed")}),4e3))}]]}renderInIds(){return[this.ids.ROOT_SNACKBAR]}afterRender(){}render(){return`<div class='snackbar snackbar--closed ${this.scene.isRootMobile()?"snackbar--mobile":"snackbar--normal"} ${this.snackbarCtx.isError?"snackbar--error":"snackbar--success"}' id="${this.ids.SNACKBAR}"><span></span></div>`}}class U extends A{renderInIds(){return[this.ids.ROOT_OVERLAY]}listen(){return[this.overlayCtx.overlayOpenState,this.overlayCtx.overlayHTMLState]}afterRender(){const e=document.getElementById(this.ids.OVERLAY);e&&(e.onclick=t=>{(t.target===e||t.target.classList&&t.target.classList.contains("modal__header__close"))&&this.overlayCtx.close()},this.overlayCtx.overlayAfterRender())}render(){return this.overlayCtx.overlayOpen?`<div class='overlay' id="${this.ids.OVERLAY}">\n        ${this.overlayCtx.overlayHTML}\n        </div>`:""}}class j{constructor(e){this.scene=e,this.themeCtx=e.themeCtx,this.config=e.config}}class q extends j{constructor(e){super(e),this.currentFrameState=l(1),this.totalFramesState=l(0),this.selectedPropState=l(),this.propsState=l([]),this.propIds=0,this.selectedPropTypesState=l([]),this.searchPropValueState=l(""),this.propTypePool=Object.assign({},a)}get searchValue(){return this.searchPropValueState.get()}set searchValue(e){this.searchPropValueState.set(e)}toggleSelectedPropType(e){this.isPropTypeSelected(e)?this.selectedPropTypesState.set(this.selectedPropTypes.filter((t=>t!==e))):this.selectedPropTypesState.set([...this.selectedPropTypes,e])}isPropTypeSelected(e){return this.selectedPropTypes.includes(e.toUpperCase())}deselectAllPropTypes(){this.selectedPropTypesState.set([])}selectAllPropTypes(){this.selectedPropTypesState.set(this.allPropTypes)}resetFilter(){this.selectAllPropTypes(),this.searchValue=""}get allPropTypes(){return Object.keys(this.propTypePool)}get selectedPropTypes(){return this.selectedPropTypesState.get()}clearSelectedProp(){this.selectedPropState.set(null)}get props(){return this.propsState.get()}get filteredProps(){return this.props.filter((e=>this.selectedPropTypes.includes(e.type)&&(!this.searchValue||e.name.toLowerCase().includes(this.searchValue.toLowerCase()))))}addPropType(e){this.propTypePool=Object.assign(Object.assign({},this.propTypePool),e)}sortPropsByRenderOrder(){this.propsState.set(this.propsState.get().sort(((e,t)=>e.orderIndex<t.orderIndex?-1:e.orderIndex>t.orderIndex?1:0)))}isPropEnabled(e){return this.getPropPositionByCurrentFrame(e).enabled}getPropPositionByCurrentFrame(e){return this.getPropPositionByFrame(e,this.currentFrame,!1)}getPropById(e){for(const t of this.propsState.get())if(t.id===e)return t;return null}getPropByName(e){const t=this.getPropsByName(e);if(0!==t.length)return t[0]}getPropsByName(e){const t=[];for(const n of this.propsState.get())n.name.toLowerCase()===e.toLowerCase()&&t.push(n);return t}addProp(...t){const n=[...this.propsState.get()];return t.forEach((t=>{var r,s,o;if((t=Object.assign(Object.assign({},i),t)).color=null!==(r=t.color)&&void 0!==r?r:this.themeCtx.currentTheme.isLight?g():f(),t.id=null!==(s=t.id)&&void 0!==s?s:this.propIds,t.name=null!==(o=t.name)&&void 0!==o?o:`${d(t.type)} ${t.id}`,t.frameAnimationConfig){t.frameAnimationConfig;for(let n in t.frameAnimationConfig){const r=Object.assign(Object.assign({},e),t.frameAnimationConfig[n]);r.transitionTimingFunction=r.transitionTimingFunction||this.config.transitionTimingFunction,t.frameAnimationConfig[n]=r}}this.propIds+=1,n.push(t)})),this.propsState.set(n),this}findMaxFrames(){let e=0;return this.propsState.get().forEach((t=>{const n=t.frameAnimationConfig,r=Number(Object.keys(n).reduce(((e,t)=>n[e]>n[t]?e:t)));r>e&&(e=r)})),e}toggleSelected(e){let t;t="number"==typeof e?this.getPropById(e):e,t===this.selectedProp?this.clearSelectedProp():this.selectedProp=t}getPropPositionByFrame(e,t,n){var r;const i=n=>{let r;const i=e.frameAnimationConfig;if(i)if(i[t])r=i[t];else{let e=-1;for(let r in i){const i=Number(r);n?i>t&&(-1===e||Math.abs(i-t)<e)&&(e=i):i<t&&(-1===e||Math.abs(i-t)<e)&&(e=i)}r=i[e]}return r},s=null!==(r=i(n))&&void 0!==r?r:i(!n);return s?Object.assign({},s):null}isPropSelected(e){const t=this.selectedProp,n="number"==typeof e?e:e.id;return t&&t.id===n}get selectedProp(){return this.selectedPropState.get()}set selectedProp(e){this.selectedPropState.set(e)}getPropSpanText(e,t){return O(e.name,t||e.color)}getPropSVG(e,t,n){n=n||1.4;const r=this.getPathGroup(e,t);if(r){const e=x(n);return e.append(r),e}return document.createElement("div")}getPathGroup(e,t){const n="string"==typeof e,r=n?e:e.type,i=n?"default":e.style,s=n||this.isPropEnabled(e)?"enabledPaths":"disabledPaths",o=this.propTypePool[r][i]?this.propTypePool[r][i][s]:null;return o?S(o,n?null:e,t):null}get isStatic(){return this.totalFrames<=1}get totalFrames(){return this.totalFramesState.get()}set totalFrames(e){this.totalFramesState.set(e)}get currentFrame(){return this.currentFrameState.get()}set currentFrame(e){this.currentFrameState.set(e)}ifJumpOne(e,t){return t-e==1||1===t&&e===this.totalFrames}ifJumpOneLiterally(e,t){return t-e==1}nextFrame(){const e=this.currentFrame;return this.currentFrame<this.totalFrames?this.currentFrame++:this.currentFrame===this.totalFrames&&(this.currentFrame=1),e}}class Y extends j{constructor(e){super(e),this.offsetState=l({x:0,y:0}),this.scaleState=l(.75),this.onZoom=(e,t)=>{}}findMinMaxPosition(e){let[t,n,r,i]=[null,null,null,null];const s=e=>{(e.x>r||null==r)&&(r=e.x),(e.y>i||null==i)&&(i=e.y),(e.x<t||null==t)&&(t=e.x),(e.y<n||null==n)&&(n=e.y)};return this.scene.propCtx.props.forEach((t=>{if(e)s(this.scene.propCtx.getPropPositionByCurrentFrame(t));else for(let e in t.frameAnimationConfig){const n=t.frameAnimationConfig[e];n&&s(n)}})),[t,n,r,i]}calcViewBox([e,t,n,r]){const i=document.getElementById(this.scene.rootContainerId),s=(n-e)/i.clientWidth,o=(r-t)/i.clientHeight;let a=s>o?s:o;return a+=this.config.viewOffset,[a,e-this.config.viewOffset/2*i.clientWidth,t-this.config.viewOffset/2*i.clientHeight]}resetViewport(e){const[t,n,r]=this.calcViewBox(this.findMinMaxPosition(e));this.scale=t,this.offset={x:-n,y:-r}}setOnZoom(e){this.onZoom=e}get offset(){return this.offsetState.get()}set offset(e){this.offsetState.set(e)}get scale(){return this.scaleState.get()}set scale(e){const t=this.scale;e>this.config.zoomLowerBound&&e<this.config.zoomUpperBound&&this.scaleState.set(e),this.onZoom(this.scale,t)}get x(){return this.offset.x}get y(){return this.offset.y}zoomIn(){this.scale=this.scale*this.config.zoomStep}zoomOut(){this.scale=this.scale*(1/this.config.zoomStep)}}function W(){return new X}class X{constructor(){this.snackbarMessageState=l(""),this._error=!1}get isError(){return this._error}get snackbarState(){return this.snackbarMessageState}error(e){this.snackbar(e,!0)}success(e){this.snackbar(e)}snackbar(e,t=!1){this._error=t,this.snackbarMessageState.set(e,!0)}}class K{constructor(){this.overlayOpenState=l(!1),this.overlayHTMLState=l(""),this.overlayAfterRender=()=>{}}get overlayHTML(){return this.overlayHTMLState.get()}get overlayOpen(){return this.overlayOpenState.get()}close(){this.overlayOpenState.set(!1)}openWith(e,t=(()=>{})){this.overlayAfterRender=t,this.overlayOpenState.set(!0),this.overlayHTMLState.set(e)}}class J extends A{listen(){return[this.propCtx.propsState,this.propCtx.selectedPropTypesState]}actions(){return[[this.propCtx.searchPropValueState,()=>{},(e,t)=>{if(this.renderFilteredProps(),e!==t){const e=document.getElementById(this.ids.PROP_SEARCH_INPUT);e&&(e.value=t)}}]]}renderInIds(){return[this.ids.OVERLAY]}afterRender(){this.renderFilteredProps();const e=this.propCtx;this.scene.$$(".list__items__item").forEach((e=>e.addEventListener("click",(e=>{const[t,n]=this.idCtx.extractIdType(e.currentTarget.id,...B.PROP_TYPE_TOGGLE);n&&n.length>0&&this.propCtx.toggleSelectedPropType(n[0])})))),this.scene.idOn(this.ids.PROP_SEARCH_INPUT,"input",(t=>{e.searchValue=t.target.value})),this.scene.idOn(this.ids.PROP_FILTER_DIALOG_SELECT_ALL,"click",(()=>{e.selectAllPropTypes()})),this.scene.idOn(this.ids.PROP_FILTER_DIALOG_DESELECT_ALL,"click",(()=>{e.deselectAllPropTypes()})),this.scene.idOn(this.ids.PROP_FILTER_DIALOG_CLEAR_TEXTFIELD,"click",(()=>{e.searchValue=""}))}static createTitle(e){const t=document.createElement("div");return t.innerText=e,t.classList.add("filter__modal__title"),t}static createListContainer(){const e=document.createElement("div");return e.classList.add("list__items"),e}renderFilteredProps(){const e=document.getElementById(this.ids.PROP_FILTERED_LIST),t=document.createElement("div");this.propCtx.filteredProps.forEach((e=>{const n=document.createElement("div");n.classList.add("list__items__item");const r=this.propCtx.getPropSpanText(e),i=this.propCtx.getPropSVG(e,null,1);n.append(r,i),t.append(n)})),e&&(e.innerHTML=t.innerHTML)}render(){const e=document.createElement("div");e.classList.add("filter__modal__container");const t=document.createElement("div");t.classList.add("input__box");const n=J.createListContainer();this.propCtx.allPropTypes.forEach((e=>{const t=document.createElement("div");t.classList.add("list__items__item"),this.propCtx.isPropTypeSelected(e)?t.classList.add("list__items__item--selected"):t.classList.add("list__items__item--not-selected");const r=document.createElement("span");r.innerText=e;const i=this.propCtx.getPropSVG(e,"white",1);t.append(r,i),t.id=this.idCtx.PROP_TYPE_TOGGLE(null,e),n.append(t)}));const r=(e,t)=>{const n=document.createElement("div");return n.classList.add("search__container__button"),n.innerText=e,n.id=t,n},i=document.createElement("div");i.classList.add("search__container");const s=document.createElement("div");s.classList.add("textfield");const o=document.createElement("div");o.classList.add("textfield__header");const a=J.createTitle("Search Prop Name"),c=J.createTitle("Clear");c.classList.add("textfield__action"),c.id=this.ids.PROP_FILTER_DIALOG_CLEAR_TEXTFIELD,o.append(a,c);const l=document.createElement("input");l.classList.add("input__box","textfield__input"),l.setAttribute("value",this.propCtx.searchValue),l.id=this.ids.PROP_SEARCH_INPUT,s.append(o,l);const d=r("Select All Props",this.ids.PROP_FILTER_DIALOG_SELECT_ALL),p=r("Deselect All Props",this.ids.PROP_FILTER_DIALOG_DESELECT_ALL);i.append(s,d,p),t.append(J.createTitle("Select Prop Types"),n);const h=document.createElement("div");h.classList.add("input__box");const u=J.createListContainer();return u.id=this.ids.PROP_FILTERED_LIST,h.append(J.createTitle("Filtered Props"),u),e.append(i,t,h),w("Filter Props",e)}}class Z extends A{afterConstructor(){this.open=l(!0)}listen(){return[this.propCtx.propsState,this.propCtx.selectedPropTypesState,this.propCtx.searchPropValueState]}actions(){return[[this.open,(e,t)=>{const n=this.scene.getRootDocument().querySelector(".prop__list-container"),r=this.scene.getRootDocument().querySelector(".hide__icon-rotate-container");t?(n.classList.remove("prop__list-container--closed"),r.classList.remove("icon-animated-right"),r.classList.add("icon-animated-left")):(n.classList.add("prop__list-container--closed"),r.classList.remove("icon-animated-left"),r.classList.add("icon-animated-right"))}],[this.propCtx.selectedPropState,(e,t)=>{const n=document.getElementById(this.idCtx.PROP_LIST(t));this.propCtx.props.forEach((e=>{const t=document.getElementById(this.idCtx.PROP_LIST(e));t&&(t.classList.add("prop__list__item--not-selected"),t.classList.remove("prop__list__item--selected"),t.querySelector("span").style.color=e.color,t.querySelectorAll("path").forEach((t=>{t.style.fill=e.color})))})),n&&(n.classList.remove("prop__list__item--not-selected"),n.classList.add("prop__list__item--selected"),n.querySelector("span").style.color="var(--scene-base)",n.querySelectorAll("path").forEach((e=>{e.style.fill="var(--scene-base)"})))}]]}renderInIds(){return[this.ids.ROOT_PROP_LIST]}afterRender(){let e;this.open.set(this.scene.config.defaultOpenPropList);const t=()=>{this.overlayCtx.openWith(""),e=new J(this.scene),e.renderComponent()};this.scene.$$(".prop__list__item").forEach((e=>e.addEventListener("click",(e=>{const[t]=this.idCtx.extractIdType(e.currentTarget.id);this.propCtx.toggleSelected(t)})))),this.scene.idOn(this.ids.PROP_LIST_HIDE,"click",(()=>{this.open.set(!this.open.get())})),this.scene.idOn(this.ids.PROP_LIST_DIALOG_BUTTON,"click",(()=>{t()})),this.scene.idOn(this.ids.PROP_LIST_RESET_BUTTON,"click",(()=>{e&&e.unmount(),this.propCtx.resetFilter()}))}render(){const e=document.createElement("div");e.classList.add("prop__column");const t=document.createElement("div");t.classList.add("prop__list");const n=(e,t,...n)=>{const r=document.createElement("div");r.classList.add("prop__list__action__button"),r.id=t;const i=document.createElement("span");i.innerText=e;const s=document.createElement("span");return s.classList.add(...n,"prop__list__action__button__icon"),r.append(i,s),r},r=n("Filter",this.ids.PROP_LIST_DIALOG_BUTTON,"bi","bi-search"),i=n("Reset",this.ids.PROP_LIST_RESET_BUTTON,"bi","bi-arrow-clockwise"),s=document.createElement("div");s.classList.add("prop__list__action__container"),s.append(r,i),e.append(s),e.append(t);const o=document.createElement("div");o.id=this.ids.PROP_LIST_HIDE;const a=document.createElement("div");a.classList.add("icon-animated-left","hide__icon-rotate-container");const c=b(this.ids.PROP_LIST_HIDE_ICON,"bi","bi-arrow-bar-left");return a.append(c),o.append(a),o.classList.add("hide__icon-container","pointer"),this.propCtx.filteredProps.forEach((e=>{const n=this.propCtx.isPropSelected(e)?"var(--scene-base)":e.color,r=document.createElement("div");r.id=this.idCtx.PROP_LIST(e),r.classList.add("pointer","prop__list__item",this.propCtx.isPropSelected(e)?"prop__list__item--selected":"prop__list__item--not-selected");const i=this.propCtx.getPropSVG(e,n,1.3),s=this.propCtx.getPropSpanText(e,n);r.append(i,s),t.append(r)})),e.outerHTML+o.outerHTML}}var Q=n(379),ee=n.n(Q),te=n(795),ne=n.n(te),re=n(569),ie=n.n(re),se=n(565),oe=n.n(se),ae=n(216),ce=n.n(ae),le=n(589),de=n.n(le),pe=n(424),he={};he.styleTagTransform=de(),he.setAttributes=oe(),he.insert=ie().bind(null,"head"),he.domAPI=ne(),he.insertStyleElement=ce(),ee()(pe.Z,he),pe.Z&&pe.Z.locals&&pe.Z.locals;const ue={light:{isLight:!0,colors:{"--scene-base":"#ffffff","--scene-base-s1":"#F5F5F5","--scene-base-inv":"#000000","--scene-base-inv-s1":"#1c1c1c","--scene-base-inv-s2":"#696969","--scene-dialog-header-button-not-selected-hover":"#6565a1","--scene-dialog-header-button-not-selected-text-hover":"#6565a1","--scene-snackbar-error":"#EB7777","--scene-snackbar-success":"#49655E","--scene-timeline-button-selected":"#8688BC","--scene-timeline-button-selected-hover":"#6565a1","--scene-timeline-button-not-selected":"#EB7777","--scene-timeline-button-not-selected-hover":"#d96262","--scene-timeline-button-text":"#ffffff","--scene-snackbar-text":"#ffffff","--scene-dialog-key":"#6565a1","--scene-dialog-value":"#EB7777","--scene-dialog-content":"#000000","--scene-button-text":"#ffffff","--scene-button-color":"#8688BC","--scene-button-hover":"#6565a1","--scene-trans-base":"rgba(255, 255, 255, 0.92)"},icon:"bi bi-brightness-high"},dark:{isLight:!1,colors:{"--scene-base":"#000000","--scene-base-s1":"#2c2c2c","--scene-base-inv":"#ffffff","--scene-base-inv-s1":"#efefef","--scene-base-inv-s2":"#b4b4b4","--scene-dialog-header-button-not-selected-hover":"#a3a3c7","--scene-dialog-header-button-not-selected-text-hover":"#a3a3c7","--scene-snackbar-error":"#EB7777","--scene-snackbar-success":"#49655E","--scene-timeline-button-selected":"#8688BC","--scene-timeline-button-selected-hover":"#6565a1","--scene-timeline-button-not-selected":"#EB7777","--scene-timeline-button-not-selected-hover":"#d96262","--scene-timeline-button-text":"#ffffff","--scene-snackbar-text":"#ffffff","--scene-dialog-key":"#a3a3c7","--scene-dialog-value":"#ea9090","--scene-dialog-content":"#ffffff","--scene-button-text":"#ffffff","--scene-button-color":"#8688BC","--scene-button-hover":"#6565a1","--scene-trans-base":"rgba(40,40,40,0.92)"},icon:"bi bi-moon-stars-fill"},"dark-classic":{isLight:!1,colors:{"--scene-base":"#000000","--scene-base-s1":"#2c2c2c","--scene-base-inv":"#ffffff","--scene-base-inv-s1":"#efefef","--scene-base-inv-s2":"#b4b4b4","--scene-dialog-header-button-not-selected-hover":"#9ab999","--scene-dialog-header-button-not-selected-text-hover":"#9ab999","--scene-snackbar-error":"#EB7777","--scene-snackbar-success":"#49655E","--scene-timeline-button-selected":"#375d7e","--scene-timeline-button-selected-hover":"#513c66","--scene-timeline-button-not-selected":"#6d5c7c","--scene-timeline-button-not-selected-hover":"#c06d85","--scene-timeline-button-text":"#ffffff","--scene-snackbar-text":"#ffffff","--scene-dialog-key":"#4c87b5","--scene-dialog-value":"#ff6a79","--scene-dialog-content":"#ffffff","--scene-button-text":"#ffffff","--scene-button-color":"#46aea9","--scene-button-hover":"#557a81","--scene-trans-base":"rgba(40,40,40,0.92)"},icon:"bi bi-balloon-heart-fill"}};class me extends j{constructor(e){super(e),this._themes=Object.assign(Object.assign({},ue),this.config.customThemes),this._themeKeys=[...Object.keys(this._themes)];let t=0;if(this.config.defaultTheme){const e=this.config.defaultTheme.toLowerCase();this._themeKeys.includes(e)&&(t=this._themeKeys.indexOf(e))}this._current=l(t)}get currentState(){return this._current}get currentTheme(){return this._themes[this._themeKeys[this._current.get()]]}get nextTheme(){return this.getThemeByIndex(this.nextThemeIndex)}renderTheme(){const e=this.currentTheme.colors,t="root"===this.config.themeScope?document.documentElement:this.scene.getRootDocument();for(let n in e)t.style.setProperty(n,e[n])}getThemeByIndex(e){return this._themes[this.getThemeName(e)]}getThemeName(e){return this._themeKeys[e]}getNextThemeIndex(e){let t=e+1;return t>=this._themeKeys.length&&(t=0),t}get themeToDisplay(){return`${this.getThemeName(this._current.get())} -> ${this.getThemeName(this.nextThemeIndex)}`}get nextThemeIndex(){return this.getNextThemeIndex(this._current.get())}next(){this._current.set(this.nextThemeIndex),this.renderTheme()}}class ge{constructor(e,n){this.viewportsState=l([]),this.snackbarCtx=W(),this.overlayCtx=new K,this.components=[],this.timeouts=[],this.afterRender=[],[this.ids,this.idContext]=function(){const e=new F;return[new Proxy(B,{get(t,n,r){var i;if(Reflect.has(t,n)){const s="string"==typeof n&&null!==(i=B[n])&&void 0!==i?i:Reflect.get(t,n,r);return Array.isArray(s)?e.getId(null,...s):s}return null}}),e]}(),this.originalConfig=JSON.stringify(n,null,2),this.rootContainerId=e,this.rootContainerIdSymbol="#"+this.rootContainerId,this.config=n?Object.assign(Object.assign({},$),n):Object.assign({},$),this.config.lines.forEach((e=>{e[2]=Object.assign(Object.assign({},t),e[2])})),this.themeCtx=new me(this),this.propCtx=new q(this),this.propCtx.addPropType(n.propTypes),this.config.props.forEach((e=>{this.propCtx.addProp(e)}))}getRootDocument(){return document.getElementById(this.rootContainerId)}getRootWidth(){return this.getRootDocument().getBoundingClientRect().width}getRootHeight(){return this.getRootDocument().getBoundingClientRect().height}isRootMobile(){return this.getRootWidth()<500}getFrameSeconds(e){return e in this.config.frameSpeed?this.config.frameSpeed[e]:this.config.defaultFrameSpeed}getViewportGetter(){return()=>this.viewportsState.get()[0]}getViewportCtx(){return this.viewportsState.get()[0]}beforeDisplay(){this.propCtx.totalFrames=this.propCtx.findMaxFrames();const e=[];for(let t=0;t<=this.propCtx.totalFrames;t++){const t=new Y(this);e.push(t)}this.viewportsState.set(e),this.propCtx.sortPropsByRenderOrder(),this.propCtx.resetFilter()}register(e){const t=new e(this);return t.renderComponent(),this.components.push(t),t}$(e){return document.querySelector(`${this.rootContainerIdSymbol} ${e}`)}$$(e){return document.querySelectorAll(`${this.rootContainerIdSymbol} ${e}`)}idOn(e,t,n){const r=document.getElementById(e);r&&r.addEventListener(t,n)}registerTimeOut(e,t){const n=setTimeout((()=>{this.canRootBeFound()?e():this.unmountIfMount()}),t);return this.timeouts.push(n),n}unmountIfMount(){console.log("Scene: going to unmount scene: "+this.rootContainerId),this.components.forEach((e=>{e.unmount()})),this.timeouts.forEach((e=>{clearTimeout()}))}addAfterRender(e){this.afterRender.push(e)}play(e){this.footerComponent&&this.footerComponent.play(e)}canRootBeFound(){return null!=document.getElementById(this.rootContainerId)}display(e=!1){console.log(`Going to render scene: ${this.rootContainerId}`),this.unmountIfMount(),this.beforeDisplay();const t=()=>{const e=document.getElementById(this.rootContainerId);e.innerHTML="",console||console.warn("Scene: scene display has been called but root container cannot be found");const t=document.createElement("div");t.classList.add("root-container"),t.innerHTML=`<div id="${this.ids.ROOT_SNACKBAR}" class='snackbar-container'></div>\n                                     <div id="${this.ids.ROOT_PROP_LIST}" class='prop__list-container'></div>\n                                    <div id="${this.ids.ROOT_PROP_DIALOG}" class='prop__property-container'></div>\n                                    <div id="${this.ids.ROOT_VIEW}" class='view-container'></div>\n                                    <div id="${this.ids.ROOT_FOOTER}" class="footer-container"></div>\n                                    <div id="${this.ids.ROOT_OVERLAY}" class="overlay-container"></div>`,e.append(t),this.config.displayPropList&&this.register(Z),this.viewComponent=this.register(V),this.propDialogComponent=this.register(D),this.footerComponent=this.register(H),this.register(G),this.register(U),this.themeCtx.renderTheme(),this.config.autoPlay&&this.play(!0),this.afterRender.forEach((e=>e()))};e?document.addEventListener("DOMContentLoaded",(e=>{t()})):t()}}class fe{constructor(){this.config=this.initializeConfig()}getConfig(){return this.config}}class _e extends fe{initializeConfig(){return{frameSpeed:{},props:[],customThemes:{},lines:[],propTypes:{}}}addPropType(e,t,n,r){return this.config.propTypes[e]||(this.config.propTypes[e]={}),this.config.propTypes[e][t]={enabledPaths:n,disabledPaths:r},this}addLine(e,t,n,r){return this.config.lines.push([e,t,{color:null!=r?r:"var(--scene-base-inv-s2)",width:null!=n?n:3}]),this}defaultFrameSpeed(e){return this.config.defaultFrameSpeed=e,this}frameSelectionSpeed(e){return this.config.frameSelectionSpeed=e,this}withProps(e,t){return Array.isArray(e)&&e.length>0?e[0]instanceof xe?this.config.props=e.map((e=>e.getConfig())):this.config.props=e:this.config.props=xe.generateRandomProps(null!=e?e:_e.randomNumberOfProps,null!=t?t:_e.randomFrames),this}addProp(e){const t=new xe;return e(t),this.config.props.push(t.getConfig()),this}autoPlay(e){return this.config.autoPlay=e,this}zoomUpperBound(e){return this.config.zoomUpperBound=e,this}zoomLowerBound(e){return this.config.zoomLowerBound=e,this}zoomStep(e){return this.config.zoomStep=e,this}themeScope(e){return this.config.themeScope=e,this}customTheme(e,t){return this.config.customThemes[e]=t,this}defaultTheme(e){return this.config.defaultTheme=e,this}alwaysShowAllDialogTabs(e){return this.config.alwaysShowAllDialogTabs=!0,this}showDialogDebugTab(e){return this.config.showDialogDebugTab=!0,this}dialogDebugTabFormat(e){return this.config.dialogDebugTabFormat=e,this}viewOffset(e){return this.config.viewOffset=e,this}withTransitionTimingFunction(e){return this.config.transitionTimingFunction=e,this}defaultOpenToolbar(e=!0){return this.config.defaultOpenToolbar=e,this}defaultOpenPropList(e=!0){return this.config.defaultOpenPropList=e,this}showTimeline(e=!0){return this.config.displayTimeline=e,this}showToolbar(e=!0){return this.config.displayToolbar=e,this}showPropList(e=!0){return this.config.displayPropList=e,this}transitionTimingFunction(e){return this.config.transitionTimingFunction=e,this}withFrameSpeed(e=_e.randomFrames,t){if(t)this.config.frameSpeed[e]=t;else{const t={};for(let n=0;n<e;n++)t[n+1]=h(3,30)/10;this.config.frameSpeed=t}return this}}_e.randomFrames=6,_e.randomNumberOfProps=6;class be extends fe{initializeConfig(){return{}}enable(){return this.config.enabled=!0,this}disable(){return this.config.enabled=!1,this}hide(){return this.config.hide=!0,this}show(){return this.config.hide=!1,this}transitionTimingFunction(e){return this.config.transitionTimingFunction=e,this}degree(e){return this.config.degree=e,this}x(e){return this.config.x=e,this}y(e){return this.config.y=e,this}scaleX(e){return this.config.scaleX=e,this}scale(e){return this.scaleX(e),this.scaleY(e),this}scaleY(e){return this.config.scaleY=e,this}thumbnail(e,t,n){return this.config.thumbnail={imageURL:e,width:t,height:n},this}}class xe extends fe{initializeConfig(){return{frameAnimationConfig:{},images:[],steps:{},excludeKeys:[]}}nameYOffset(e){return this.config.nameYOffset=e,this}nameOffset(e,t){return this.nameXOffset(e),this.nameYOffset(t),this}nameXOffset(e){return this.config.nameXOffset=e,this}nameColor(e){return this.config.nameColor=e,this}renderOrder(e){return this.config.orderIndex=e,this}nameScale(e){return this.config.nameScale=null!=e?e:h(5,10)/10,this}addImage(e,t,n,r){const i={title:t,imageURL:e,width:n,height:r};return this.config.images.push(i),this}addData(e,t){return this.config[e]=t,this}addExcludeKey(...e){return e.forEach((e=>this.config.excludeKeys.push(e))),this}images(e){return this.config.images=null!=e?e:xe.demoImages,this}scripts(e){return this.config.scripts=null!=e?e:"Here's some random script\nLorem ipsum dolor sit amet, consectetur adipiscing elit,\n123\n\na: c",this}note(e){return this.config.note=null!=e?e:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",this}addStep(e,t,n){const r={title:t,content:n};return this.config.steps[e]=r,this}steps(e){return this.config.steps=null!=e?e:xe.demoSteps,this}style(e){return this.config.style=null!=e?e:m(Object.keys(a[this.config.type])),this}namePosition(e){return this.config.namePosition=null!=e?e:m(xe.allPositions),this}getAllPropTypes(){let e=[...Object.values(o)];return e=e.filter((e=>e!=o.STORYBOARD&&e!=o.SCRIPT)),e}type(e){return this.config.type=null!=e?e:m(this.getAllPropTypes()),this}shouldDisplayName(e){return this.config.shouldDisplayName=null!=e?e:!!u(),this}static getRandomPosition(){const e=h(8,46)/10;return{enabled:u(),x:750*Math.random(),y:750*Math.random(),degree:360*Math.random(),scaleX:e,scaleY:e}}asRandomDialogProperties(){return this.images().scripts().note().steps(),this}asRandom(){return this.type().images().scripts().note().steps().nameScale().style().shouldDisplayName(),this}name(e){return this.config.name=e,this}color(e){return this.config.color=e,this}withPosition(e,t){if(t)this.config.frameAnimationConfig[e]=t instanceof be?t.getConfig():t;else{const t={};for(let n=0;n<e;n++)t[n+1]=xe.getRandomPosition();this.config.frameAnimationConfig=t}return this}addPosition(e,t){const n=new be;return e(n),this.withPosition(null!=t?t:1,n.getConfig()),this}addPositions(e,t){const n=new be;return e(n),t.forEach((e=>{this.withPosition(e,Object.assign({},n.getConfig()))})),this}static generateRandomProps(e,t){const n=[];for(let r=0;r<e;r++)n.push((new xe).asRandom().withPosition(t).getConfig());return n}}function ve(e){console.log(`Render demo scene in: ${e}`);const t=(new _e).withFrameSpeed(6).getConfig();return new ge(e,Object.assign(Object.assign({},t),{props:xe.generateRandomProps(6,6)}))}function ye(){return(new _e).withFrameSpeed(1,1).withFrameSpeed(2,2).withFrameSpeed(3,1).addProp((e=>{e.type("CAMERA").name("Behind Stage Camera").nameScale(.5).addPosition((e=>{e.x(50).y(50).degree(30)}),1).addPosition((e=>{e.x(20).y(150)}),2).addPosition((e=>{e.x(50).y(250).degree(-30)}),3)})).addProp((e=>{e.type("TABLE").name("Main Table").style("fillSquare").shouldDisplayName(!1).addPositions((e=>{e.x(150).y(70).scale(8)}),[1,2,3])})).addProp((e=>{e.type("CAMERA").name("Camera A").color("rgb(201,201,201)").addPositions((e=>{e.x(170).y(140).degree(210)}),[1,3]).addPosition((e=>{e.x(170).y(120).degree(200)}),2)})).addProp((e=>{e.type("CAMERA").name("Camera B").color("rgb(199,199,199)").addPositions((e=>{e.x(230).y(140).degree(20)}),[1,3]).addPosition((e=>{e.x(230).y(140).degree(0)}),2)})).addProp((e=>{e.type("SHELF").addData("texture","wood").shouldDisplayName(!1).addPositions((e=>{e.x(400).y(150).degree(0)}),[1,2]).addPosition((e=>{e.x(320).y(170).degree(0)}),3)})).addProp((e=>{e.type("CHARACTER").name("Emily").asRandomDialogProperties().addPositions((e=>{e.x(120).y(100).degree(20)}),[1,3]).addPosition((e=>{e.x(120).y(100).degree(-20)}),2)})).addProp((e=>{e.type("CHARACTER").name("Elizabeth").asRandomDialogProperties().addPositions((e=>{e.x(290).y(170).degree(0).transitionTimingFunction("ease-in-out")}),[1,3]).addPosition((e=>{e.x(380).y(160).degree(-10)}),2)})).addProp((e=>{e.type("CHARACTER").name("Eric").asRandomDialogProperties().addPositions((e=>{e.x(400).y(80).degree(100)}),[1,3]).addPosition((e=>{e.x(250).y(20).degree(150)}),2)})).addProp((e=>{e.type("STORYBOARD").asRandomDialogProperties().shouldDisplayName(!1).addPositions((e=>{e.x(80).y(150).thumbnail("https://s2.loli.net/2022/03/19/kfoHSKL792r4cvD.jpg",250)}),[1,2,3])})).addProp((e=>{e.type("LIGHT").name("Light 1").namePosition("bottom").nameScale(.5).nameXOffset(8).nameYOffset(9).scripts("Good Morning").nameScale(.5).addPosition((e=>{e.x(230).y(60).degree(180).scale(2)}),1).addPosition((e=>{e.x(230).y(60).degree(180).scale(2).disable()}),2).addPosition((e=>{e.x(230).y(60).degree(180).scale(2).enable()}),3)}))}xe.allPositions=["top","bottom","right","left"],xe.demoImages=[{title:"test",imageURL:"https://s2.loli.net/2022/02/10/grldkO4LeDjxmY8.png"},{imageURL:"https://s2.loli.net/2022/03/16/KZw7yAWXudMGL21.png"},{title:"A long picture",imageURL:"https://s2.loli.net/2022/03/16/tukpnVKZaUC7GIF.png"}],xe.demoSteps={3:{title:"Here's step 1",content:"Here's some content"},2:{title:"Here's step 2",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris"},4:{content:"aha"},5:{title:"A title"},1:{},6:{},7:{}},xe.storyboardDemoImage={title:"something",imageURL:"https://s2.loli.net/2022/03/19/kfoHSKL792r4cvD.jpg",width:400},xe.directorsViewfinderDemoImage={title:"something",imageURL:"https://s2.loli.net/2022/03/19/iN9yLYWoE28z5MI.jpg",width:300},console.log("Scene.js loaded")})(),r})()}));